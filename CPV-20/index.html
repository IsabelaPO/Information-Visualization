<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Streaming Platforms Dashboard</title>
    <!--D3.js core library-->
    <script src="/d3/d3.v7.min.js"></script>
    <!--D3 Sankey plugin-->
    <script src="/d3/d3-sankey.min.js"></script>
    <!--logic-->
    <script src="script.js"></script>

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="dashboard-wrapper">
      <!--Dahsboard header-->
      <header>
        <button onclick="toggleFilters()">Toggle Filters</button>
        <div>
          <h1>Streaming Platforms</h1>
        </div>
      </header>

      <!--Loading spinner, shown until data is loaded-->
      <div id="loading"><div class="spinner"></div></div>

      <!-- Sidebar: Filters panel -->
      <div id="filters-panel">
        <!-- Platform filter (buttons with brand colors) -->
        <div class="filter-group">
          <label>Platforms</label>
          <div class="platform-buttons">
            <button data-platform="Netflix">Netflix</button>
            <button data-platform="Amazon">Amazon</button>
            <button data-platform="Disney">Disney</button>
            <button data-platform="HBO">HBO</button>
            <button data-platform="Paramount">Paramount</button>
            <button data-platform="Apple">Apple</button>
          </div>
        </div>
        <!-- Dropdown: content type filter -->
        <div class="filter-group">
          <label>Content Type</label>
          <div class="content-type-filter">
            <button content-type-filter="SHOW">TV Shows</button>
            <button content-type-filter="MOVIE">Movies</button>
          </div>
        </div>
        <!-- Genres: dynamically populated checkboxes (JS populates this) -->
        <div class="filter-group">
          <label>Genres</label>
          <button id="select-all-genres" class="select-all-button">Select All</button>
          <div class="genre-list" id="genre-filter-list"></div>
        </div>
        <div class="filter-group">
          <label>Production Location</label>

          <div class="view-toggle">
            <button id="view-continents-btn" class="toggle-btn active">Continents</button>
            <button id="view-countries-btn" class="toggle-btn">Countries</button>
          </div>

          <div id="continent-view-container">
            <button id="select-all-continents" class="select-all-button">Deselect All</button>
            <div id="continent-filter-list" class="country-list"></div>
          </div>

          <div id="country-view-container" style="display: none;">
            <button id="select-all-countries" class="select-all-button">Deselect All</button>
            <div id="country-filter-list" class="country-list"></div>
          </div>
        </div>
        <!-- Audience filter (buttons, JS maps to age categories) -->
        <div class="filter-group">
          <label>Target Audience</label>
          <div class="audience-buttons">
            <button audience-buttons="toddlers">Toddler</button>
            <button audience-buttons="child">Children</button>
            <button audience-buttons="teenager">Teenager</button>
            <button audience-buttons="adult">Adult</button>
          </div>
        </div>
        <!-- IMDb slider: interactive filter for rating range -->
        <div class="filter-group">
          <label>IMDB Score</label>
          <div id="imdb-slider-container" class="d3-slider-container"></div>
          <div class="slider-labels">
            <span id="imdb-min-value">1.0</span>
            <span id="imdb-max-value">10.0</span>
          </div>
        </div>
        <!-- Reset filters button -->
        <button class="remove-filters-btn">Remove All Filters</button>
      </div>

      <!-- Timeline filter (release year slider) -->
      <div id="timeline-filter">
        <div class="viz-card-header">Filter by Release Year</div>
        <div id="year-slider-container" class="d3-slider-container"></div>
        <div class="slider-labels">
          <span id="year-min-value">...</span>
          <span id="year-max-value">...</span>
        </div>
      </div>
      
      <!-- Visualization panel -->
      <div class="viz-panel">
        <!-- Other visualization cards -->
        <div id="treemap-chart" class="viz-card">
          <button id="treemap-back-btn" class="back-button">‚Üê Back to Continents</button>
        </div>
        <div id="quantity-chart" class="viz-card"></div>
        <!-- Sankey chart visualization -->
        <div id="sankey-chart" class="viz-card"></div>
      </div>
    </div>
  </body>
</html>
